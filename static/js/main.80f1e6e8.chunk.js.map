{"version":3,"sources":["Context.js","utils/enums.js","utils/requests.js","components/ButtonDetail.js","components/HistoryRequestsItem.js","components/HistoryRequests.js","components/ResponseDataItem.js","components/ResponseData.js","components/ResponseMessage.js","components/Form.js","containers/Main.js","components/VariableItem.js","containers/Variables.js","containers/VariableDescription.js","App.js","index.js"],"names":["Context","createContext","URL","getVin","vin","a","fetch","getDescription","ButtonDetail","to","className","HistoryRequestsItem","text","hendlerForm","useContext","onClick","e","target","textContent","HistoryRequests","historyRequests","length","map","element","id","ResponseDataItem","Variable","Value","ResponseData","responseValue","VariableId","ResponseMessage","responseMessage","Form","formRef","validateMessage","ref","type","placeholder","preventDefault","Main","VariableItem","ID","Name","Variables","error","variables","setVariables","useEffect","then","data","json","Results","withRouter","match","params","variable","find","GroupName","DataType","Description","history","createBrowserHistory","States","useState","setVin","setResponseMessage","setResponseValue","setHistoryRequests","setVariable","setValidateMessage","response","Message","newResponseValue","filter","useRef","value","current","test","toLowerCase","toUpperCase","request","Date","now","slice","App","Provider","path","exact","component","VariableDescription","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.80f1e6e8.chunk.js","sourcesContent":["import { createContext } from 'react';\r\n\r\nconst Context = createContext()\r\n\r\nexport default Context ;","export const URL = \"https://vpic.nhtsa.dot.gov/api/\"","import { URL } from \"./enums\";\r\n\r\nconst getVin = async (vin) => {\r\n  return await fetch(`${URL}vehicles/decodevin/${vin}?format=json`);\r\n};\r\n\r\nconst getDescription = async () => {\r\n  return await fetch(`${URL}vehicles/getvehiclevariablelist?format=json`);\r\n};\r\n\r\nexport { getVin, getDescription };\r\n","import { Link } from \"react-router-dom\";\r\n\r\nfunction ButtonDetail() {\r\n  return (\r\n    <Link to={`/variables`} className=\"container_button\">\r\n      Переменные\r\n    </Link>\r\n  );\r\n}\r\n\r\nexport default ButtonDetail;\r\n","import { useContext } from \"react\";\r\nimport Context from \"../Context\";\r\n\r\nfunction HistoryRequestsItem({ text }) {\r\n  const { hendlerForm } = useContext(Context);\r\n\r\n  return (\r\n    <li\r\n      className=\"history_item\"\r\n      onClick={(e) => {\r\n        hendlerForm(e.target.textContent);\r\n      }}\r\n    >\r\n      {text}\r\n    </li>\r\n  );\r\n}\r\n\r\nexport default HistoryRequestsItem;\r\n","import { useContext } from \"react\";\r\nimport Context from \"../Context\";\r\nimport HistoryRequestsItem from \"./HistoryRequestsItem\";\r\n\r\nfunction HistoryRequests() {\r\n  const { historyRequests } = useContext(Context);\r\n\r\n  return (\r\n    <>\r\n      {historyRequests.length > 0 && (\r\n        <div className=\"container_history history\">\r\n          <h2 className=\"history_title\">История поиска</h2>\r\n          <ol className=\"history_list\">\r\n            {historyRequests.map((element) => (\r\n              <HistoryRequestsItem key={element.id} text={element.text} />\r\n            ))}\r\n          </ol>\r\n        </div>\r\n      )}\r\n    </>\r\n  );\r\n}\r\n\r\nexport default HistoryRequests;\r\n","function ResponseDataItem({ element }) {\r\n  return (\r\n    <tr className=\"content_table-row\">\r\n      <td className=\"content_table-item\">{element.Variable}</td>\r\n      <td className=\"content_table-item\">{element.Value}</td>\r\n    </tr>\r\n  );\r\n}\r\n\r\nexport default ResponseDataItem;\r\n","import { useContext } from \"react\";\r\nimport Context from \"../Context\";\r\nimport ResponseDataItem from \"./ResponseDataItem\";\r\n\r\nfunction ResponseData() {\r\n  const { responseValue } = useContext(Context);\r\n\r\n  return (\r\n    <div className=\"content\">\r\n      <h1 className=\"content_title\">По вашему запросу найдены данные:</h1>\r\n      <table className=\"content_table\">\r\n        <tbody>\r\n          {responseValue.map((element) => {\r\n            return (\r\n              <ResponseDataItem key={element.VariableId} element={element} />\r\n            );\r\n          })}\r\n        </tbody>\r\n      </table>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ResponseData;\r\n","import { useContext } from \"react\";\r\nimport Context from \"../Context\";\r\n\r\nfunction ResponseMessage() {\r\n  const { responseMessage } = useContext(Context);\r\n\r\n  return (\r\n    <div className=\"container_message\">\r\n      <p className=\"message_text\">{responseMessage}</p>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ResponseMessage;\r\n","import { useContext } from \"react\";\r\nimport Context from \"../Context\";\r\n\r\nfunction Form() {\r\n  const { formRef, hendlerForm, validateMessage } = useContext(Context);\r\n\r\n  return (\r\n    <form className=\"form\" ref={formRef}>\r\n      <div className=\"form_input-wrapper\">\r\n        <input\r\n          className=\"form_input\"\r\n          type=\"text\"\r\n          placeholder=\"Введите VIN для поиска\"\r\n        ></input>\r\n        <p className=\"form_validate-message\">{validateMessage}</p>\r\n      </div>\r\n      <button\r\n        className=\"form_button\"\r\n        type=\"submit\"\r\n        onClick={(e) => {\r\n          e.preventDefault();\r\n          hendlerForm(e);\r\n        }}\r\n      >\r\n        Поиск\r\n      </button>\r\n    </form>\r\n  );\r\n}\r\n\r\nexport default Form;\r\n","import { useContext } from \"react\";\r\nimport Context from \"../Context\";\r\nimport ButtonDetail from \"../components/ButtonDetail\";\r\nimport HistoryRequests from \"../components/HistoryRequests\";\r\nimport ResponseData from \"../components/ResponseData\";\r\nimport ResponseMessage from \"../components/ResponseMessage\";\r\nimport Form from \"../components/Form\";\r\n\r\nfunction Main() {\r\n  const { responseValue, responseMessage } = useContext(Context);\r\n\r\n  return (\r\n    <div className=\"container\">\r\n      <Form />\r\n      <ButtonDetail />\r\n      {responseMessage && (\r\n        <div className=\"container_info\">\r\n          <HistoryRequests />\r\n          <ResponseMessage />\r\n        </div>\r\n      )}\r\n      {responseValue.length > 0 && <ResponseData />}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Main;\r\n","import { Link } from \"react-router-dom\";\r\n\r\nfunction VariableItem({ element }) {\r\n  return (\r\n    <Link to={`variables/${element.ID}`} className=\"container_variables-item\">\r\n      {element.Name}\r\n    </Link>\r\n  );\r\n}\r\n\r\nexport default VariableItem;\r\n","import { useContext, useEffect } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport Context from \"../Context\";\r\nimport VariableItem from \"../components/VariableItem\";\r\nimport { getDescription } from \"../utils/requests\";\r\n\r\nfunction Variables() {\r\n  const { error, variables, setVariables } = useContext(Context);\r\n\r\n  useEffect(() => {\r\n    getDescription()\r\n      .then((data) => data.json())\r\n      .then((data) => setVariables([...data.Results]));\r\n  }, [setVariables]);\r\n\r\n  return (\r\n    <>\r\n      <div className=\"container\">\r\n        <Link to={`/`} className=\"container_button\">\r\n          Назад\r\n        </Link>\r\n        <div className=\"container_variables\">\r\n          <h1 className=\"container_title\">Переменные</h1>\r\n          {<h1>{error}</h1> &&\r\n            variables.map((element) => {\r\n              return <VariableItem key={element.ID} element={element} />;\r\n            })}\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default Variables;\r\n","import { withRouter } from \"react-router\";\r\nimport { useContext } from \"react\";\r\nimport Context from \"../Context\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nfunction VariableDescription({\r\n  match: {\r\n    params: { id },\r\n  },\r\n}) {\r\n  const { variables } = useContext(Context);\r\n  const variable = variables.find((element) => element.ID === +id);\r\n\r\n  return (\r\n    <div className=\"container\">\r\n      <nav>\r\n        <Link to={\"/\"} className=\"container_button\">\r\n          На главную\r\n        </Link>\r\n        <Link to={\"/variables\"} className=\"container_button\">\r\n          Назад\r\n        </Link>\r\n      </nav>\r\n      <ul className=\"container_description\">\r\n        <li className=\"container_description-item\">\r\n          <p className=\"container_description-title\">Имя</p>\r\n          <div className=\"container_description-text\">{variable.Name}</div>\r\n        </li>\r\n        <li className=\"container_description-item\">\r\n          <p className=\"container_description-title\">Группа</p>\r\n          <div className=\"container_description-text\">{variable.GroupName}</div>\r\n        </li>\r\n        <li className=\"container_description-item\">\r\n          <p className=\"container_description-title\">Тип</p>\r\n          <div className=\"container_description-text\">{variable.DataType}</div>\r\n        </li>\r\n        <li className=\"container_description-item\">\r\n          <p className=\"container_description-title\">ID</p>\r\n          <div className=\"container_description-text\">{variable.ID}</div>\r\n        </li>\r\n        <li className=\"container_description-item\">\r\n          <p className=\"container_description-title\">Описание</p>\r\n          <div className=\"container_description-text\">\r\n            {variable.Description}\r\n          </div>\r\n        </li>\r\n      </ul>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default withRouter(VariableDescription);\r\n","import React, { useState, useEffect, useRef } from \"react\";\nimport { Router, Route, Switch, HashRouter } from \"react-router-dom\";\nimport { createBrowserHistory } from \"history\";\nimport Context from \"./Context\";\nimport { getVin } from \"./utils/requests\";\nimport Main from \"./containers/Main\";\nimport Variables from \"./containers/Variables\";\nimport VariableDescription from \"./containers/VariableDescription\";\n\nconst history = createBrowserHistory();\n\nfunction States() {\n  const [vin, setVin] = useState(\"\");\n  const [responseMessage, setResponseMessage] = useState(null);\n  const [responseValue, setResponseValue] = useState([]);\n  const [historyRequests, setHistoryRequests] = useState([]);\n  const [variables, setVariables] = useState([]);\n  const [variable, setVariable] = useState({});\n  const [validateMessage, setValidateMessage] = useState(\"\");\n\n  useEffect(() => {\n    if (vin) {\n      getVin(vin)\n        .then(async (response) => response.json())\n        .then((data) => {\n          if (data) {\n            setResponseMessage(data.Message);\n            const newResponseValue = data.Results.filter(\n              (element) => element.Value\n            );\n            setResponseValue(newResponseValue);\n            setVin(\"\");\n          }\n        });\n    }\n  }, [responseValue, vin]);\n\n  function validateFormValue(value) {\n    const res = /^[a-z0-9]+$/;\n    if (value.length > 17 || !value.length) {\n      setValidateMessage(\"*Недопустимая длина VIN\");\n      return;\n    } else if (!res.test(value.toLowerCase())) {\n      setValidateMessage(\"*Присутствуют недопустимые символы\");\n      return;\n    } else {\n      return true;\n    }\n  }\n\n  const formRef = useRef();\n\n  function hendlerForm(e) {\n    const [text] = formRef.current;\n    let vin = \"\";\n    typeof e === \"string\" ? (vin = e) : (vin = text.value);\n    const isValidate = validateFormValue(vin);\n\n    if (isValidate) {\n      setValidateMessage(\"\");\n      setVin(vin.toUpperCase());\n      const request = {\n        id: Date.now(),\n        text: vin,\n      };\n\n      historyRequests.length > 4\n        ? setHistoryRequests([request, ...historyRequests.slice(0, 4)])\n        : setHistoryRequests([request, ...historyRequests]);\n\n      text.value = \"\";\n    }\n  }\n\n  return {\n    vin,\n    setVin,\n    responseMessage,\n    responseValue,\n    historyRequests,\n    setHistoryRequests,\n    variables,\n    setVariables,\n    variable,\n    setVariable,\n    formRef,\n    hendlerForm,\n    validateMessage,\n  };\n}\n\nexport default function App() {\n  return (\n    <Context.Provider value={States()}>\n      <Router history={history}>\n        {/* BrowserRouter поменял на HashRouter для корректной работы github-pages */}\n        <HashRouter>\n          <Switch>\n            <Route path=\"/\" exact component={Main} />\n            <Route path=\"/variables/:id\" component={VariableDescription} />\n            <Route path=\"/variables\" component={Variables} />\n          </Switch>\n        </HashRouter>\n      </Router>\n    </Context.Provider>\n  );\n}\n","import { StrictMode } from \"react\";\nimport { BrowserRouter } from \"react-router-dom\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\nimport \"./styles/style.css\";\n\nReactDOM.render(\n  <BrowserRouter>\n    <StrictMode>\n      <App />\n    </StrictMode>\n  </BrowserRouter>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}